---
import { getCollection } from "astro:content";
import MiLayout from "../../layouts/MiLayout.astro";

const { slug } = Astro.params;
const posts = await getCollection("posts");

const post = posts.find((post:any) => post.slug === slug );

if (!post) {
    throw new Error("Post no encontrado")
}
const { Content } = await post?.render();
---

<MiLayout>
    <article>
        <h1>{post?.data.title}</h1>
        <p><em>{post?.data.date}</em></p>
        {post?.body}
        <main>
            <Content />
        </main>
        <a href="/blog">Volver</a>
    </article>
</MiLayout>